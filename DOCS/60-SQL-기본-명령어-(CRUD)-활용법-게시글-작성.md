# SQL 기본 명령어 (CRUD) 활용법

데이터베이스는 현대 애플리케이션의 핵심 구성 요소로, 데이터를 효율적으로 저장하고 관리하는 역할을 수행합니다. SQL은 이러한 데이터베이스와 소통하기 위한 표준 언어로, 데이터를 생성하고 조회하며 수정하고 삭제하는 기본적인 작업을 수행할 수 있습니다. 이러한 네 가지 기본 작업을 CRUD(Create, Read, Update, Delete)라고 하며, 데이터베이스 작업의 기초가 됩니다. 이 글에서는 SQL의 CRUD 명령어들을 자세히 살펴보고, 실제 활용 방법을 서술형으로 설명하겠습니다. CRUD를 마스터하면 데이터베이스 작업의 80% 이상을 처리할 수 있게 됩니다.

## CREATE 명령어 - 데이터 생성

CREATE 명령어는 데이터베이스에서 새로운 데이터를 생성하는 작업을 수행합니다. 이 명령어는 두 가지 주요 용도로 사용되며, 데이터베이스 객체 생성과 데이터 삽입으로 구분됩니다.

첫째로, CREATE TABLE 명령어를 사용하여 데이터베이스 테이블을 생성할 수 있습니다. 테이블은 데이터를 구조화하여 저장하는 기본 단위로, 각 테이블은 행과 열로 구성됩니다. 테이블을 생성할 때는 각 열의 데이터 타입과 제약 조건을 명시해야 합니다. 예를 들어, 사용자 정보를 저장하는 테이블을 생성한다면 아이디, 이름, 이메일, 가입일 등의 열을 정의하게 됩니다.

테이블 생성 시 가장 중요한 것은 각 열의 데이터 타입을 올바르게 지정하는 것입니다. 정수형 데이터에는 INTEGER나 BIGINT를, 문자열 데이터에는 VARCHAR나 TEXT를, 날짜 데이터에는 DATE나 TIMESTAMP를 사용합니다. 또한 기본 키(Primary Key)를 설정하여 각 행을 고유하게 식별할 수 있도록 해야 합니다.

둘째로, INSERT INTO 명령어를 사용하여 테이블에 새로운 데이터를 삽입할 수 있습니다. 이 명령어는 기존에 생성된 테이블에 행 데이터를 추가하는 역할을 합니다. 데이터를 삽입할 때는 VALUES 키워드 다음에 실제 데이터를 괄호로 묶어서 입력합니다. 이때 데이터의 순서는 테이블 생성 시 정의한 열의 순서와 일치해야 합니다.

INSERT 작업 시 주의해야 할 점은 데이터 타입의 일치입니다. 문자열 데이터는 작은따옴표로 묶어야 하며, 숫자 데이터는 따옴표 없이 입력합니다. 또한 NULL 값을 허용하지 않는 열에는 반드시 데이터를 입력해야 합니다. AUTO_INCREMENT 속성이 설정된 기본 키 열은 NULL 값을 입력하여 자동으로 값이 할당되도록 할 수 있습니다.

CREATE 작업은 데이터베이스 설계의 시작점입니다. 올바른 테이블 구조를 설계하고 데이터를 정확하게 삽입하는 것은 전체 데이터베이스 시스템의 성능과 안정성에 큰 영향을 미칩니다. 특히 대용량 데이터를 다룰 때는 인덱스 설정과 데이터 정규화도 함께 고려해야 합니다.

## READ 명령어 - 데이터 조회

READ 작업은 데이터베이스에서 저장된 데이터를 검색하고 확인하는 가장 기본적이고 중요한 작업입니다. SQL에서 READ 작업은 SELECT 명령어를 통해 수행됩니다.

SELECT 명령어의 기본 구조는 "SELECT 열이름 FROM 테이블이름"입니다. 모든 열의 데이터를 조회하려면 SELECT 다음에 *를 사용할 수 있습니다. 특정 열만 조회하려면 열 이름을 쉼표로 구분하여 나열하면 됩니다. 예를 들어, 사용자 테이블에서 이름과 이메일만 조회하려면 "SELECT name, email FROM users"와 같이 작성할 수 있습니다.

SELECT 명령어의 진정한 힘은 WHERE 절과 함께 사용할 때 발휘됩니다. WHERE 절을 사용하여 특정 조건을 만족하는 데이터만 필터링할 수 있습니다. 예를 들어, "SELECT * FROM users WHERE age > 20"은 나이가 20세 초과인 사용자만 조회합니다. 비교 연산자뿐만 아니라 LIKE를 사용한 패턴 매칭, IN을 사용한 값 목록 검색, BETWEEN을 사용한 범위 검색 등 다양한 조건을 설정할 수 있습니다.

데이터를 정렬하여 조회하려면 ORDER BY 절을 사용합니다. "ORDER BY 열이름 ASC"는 오름차순, "ORDER BY 열이름 DESC"는 내림차순으로 정렬합니다. 여러 열을 기준으로 정렬할 수도 있으며, 이 경우 먼저 나열된 열이 우선됩니다.

대용량 데이터를 효율적으로 조회하기 위해 LIMIT 절을 사용할 수 있습니다. "LIMIT 10"은 결과의 첫 10개 행만 반환하며, OFFSET과 함께 사용하여 페이지네이션을 구현할 수 있습니다. "LIMIT 10 OFFSET 20"은 21번째부터 30번째 행까지 조회합니다.

SELECT 명령어는 JOIN을 통해 여러 테이블의 데이터를 결합하여 조회할 수도 있습니다. INNER JOIN, LEFT JOIN, RIGHT JOIN 등 다양한 조인 방식을 지원하여 관계형 데이터베이스의 장점을 최대한 활용할 수 있습니다.

집계 함수와 GROUP BY 절을 사용하여 데이터를 요약할 수도 있습니다. COUNT, SUM, AVG, MAX, MIN 등의 함수를 사용하여 그룹별 통계를 계산할 수 있습니다.

READ 작업은 데이터베이스의 가치를 실현하는 핵심 작업입니다. 올바른 쿼리를 작성하여 필요한 데이터를 정확하고 효율적으로 조회하는 것은 애플리케이션의 성능과 사용자 경험에 직접적인 영향을 미칩니다.

## UPDATE와 DELETE 명령어 - 데이터 수정과 삭제

UPDATE 명령어는 데이터베이스의 기존 데이터를 수정하는 작업을 수행합니다. UPDATE 작업은 WHERE 절과 함께 사용하여 특정 조건을 만족하는 행의 데이터를 변경합니다.

UPDATE 명령어의 기본 구조는 "UPDATE 테이블이름 SET 열이름 = 값 WHERE 조건"입니다. SET 절 다음에 수정할 열과 새로운 값을 지정하며, WHERE 절로 수정할 행을 선택합니다. WHERE 절이 생략되면 테이블의 모든 행이 수정되므로 주의해야 합니다.

예를 들어, 특정 사용자의 이메일을 변경하려면 "UPDATE users SET email = 'new@email.com' WHERE user_id = 1"과 같이 작성할 수 있습니다. 여러 열을 동시에 수정할 수도 있습니다. "UPDATE users SET name = '홍길동', phone = '010-1234-5678' WHERE user_id = 1"처럼 SET 절에 여러 열을 쉼표로 구분하여 나열하면 됩니다.

UPDATE 작업 시 트랜잭션을 고려해야 합니다. 특히 여러 행을 동시에 수정하는 경우, 일부 행만 성공하고 일부는 실패하는 상황을 방지하기 위해 트랜잭션을 사용해야 합니다.

DELETE 명령어는 데이터베이스에서 데이터를 삭제하는 작업을 수행합니다. DELETE 작업 또한 WHERE 절과 함께 사용하여 특정 조건을 만족하는 행을 삭제합니다.

DELETE 명령어의 기본 구조는 "UPDATE 테이블이름 WHERE 조건"입니다. WHERE 절이 생략되면 테이블의 모든 행이 삭제되므로 매우 주의해야 합니다. "DELETE FROM users WHERE last_login < '2023-01-01'"처럼 조건을 지정하여 오래된 데이터를 정리할 수 있습니다.

DELETE 작업은 물리적 삭제와 논리적 삭제 두 가지 방식으로 수행할 수 있습니다. 물리적 삭제는 실제로 데이터를 제거하는 것이며, 논리적 삭제는 삭제 플래그를 설정하여 데이터를 보존하는 방식입니다. 논리적 삭제는 데이터 복구가 가능하다는 장점이 있지만, 쿼리 시 추가적인 조건이 필요합니다.

UPDATE와 DELETE 작업은 데이터 무결성을 해칠 수 있는 강력한 명령어입니다. 따라서 실제 운영 환경에서는 백업을 철저히 하고, 트랜잭션을 적절히 사용하여 작업의 안정성을 보장해야 합니다. 또한 권한 관리를 통해 이러한 작업을 수행할 수 있는 사용자를 제한하는 것이 좋습니다.

결론적으로 CRUD 명령어들은 데이터베이스 작업의 기본이자 핵심입니다. CREATE로 데이터를 생성하고, READ로 데이터를 조회하며, UPDATE로 데이터를 수정하고, DELETE로 데이터를 삭제합니다. 이러한 기본 명령어들을 숙달하면 복잡한 데이터베이스 작업의 대부분을 처리할 수 있게 됩니다. 특히 WHERE 절의 적절한 사용과 트랜잭션 관리는 데이터 무결성을 유지하는 데 매우 중요합니다. SQL을 효과적으로 활용하여 안정적이고 효율적인 데이터베이스 시스템을 구축할 수 있습니다.
